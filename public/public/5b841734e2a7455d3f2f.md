---
title: Qiita CLIで公開しない設定を追加した話
tags:
  - GitHub
  - qiita-cli
private: false
updated_at: '2023-09-23T14:11:48+09:00'
id: 5b841734e2a7455d3f2f
organization_url_name: null
slide: false
ignorePublish: false
---

こんにちは。
ご覧いただきありがとうございます。
先日，Qiita CLIへホストを設定できるプルリクがマージされました。
Qiitaの方には大変お世話になりました。

https://qiita.com/ikepu-tp/items/df4ebf43edd200e4597d

Qiita CLIでホストを設定できるようになり，Dockerでも使いやすくなりました。
その一方で記事を作成し，Githubにプッシュすると，どんなものでも自動で公開されることが執筆の悩みの種になっていました。
自分は一度，書いた後にしばらく寝かせて投稿するってこともあるのですが，現行では完成するまでGithubにプッシュできません。
複数のPCを使う身としては少し使いづらいのが正直なところでした。
ということで前回と同様にプルリクを送ることにしました。

## やりたかったこと

- `publish --all`コマンドで投稿しない設定を追加したい

## したこと

1. 設定項目を追加したコードをプルリク
2. レビューを受け，修正
3. マージ

### 設定項目を追加したコードをプルリク

設定項目を追加するために必要なのは

- 新規記事を作成する際に設定項目が含まれる
- `publish --all`において，設定項目がある場合は無視をする

の2点です。
これらが達成できるようにコードを追っかけ，修正しました。
なお，設定項目については当初は`draft`にしていたのですが，内部の他のパラメータと同じということで議論を重ねた結果，`ignorePublish`となりました。

https://github.com/increments/qiita-cli/pull/65

### レビューを受け，修正

前回と同様，Qiitaの担当の方がレビューをしてくださいました。
タイポがあったりと自分の確認不足もあり，ご迷惑をおかけしてしまいました汗
また，テストを書けなかったのが申し訳なかったです。

### マージ

無事にマージをしていただけました！！

## 感想

前回に続いて，OSSに貢献できて良かったです。
基本的には自分が困っていることを改善したいという自分本位な修正ではありますが，快く修正を受け入れてくださり，Qiitaの皆様に感謝です！！
また，全くIT系ではなく，ただの中学校の非常勤講師な自分の稚拙なコードにも関わらず，2度もマージしていただけて光栄です！！

## p.s.

`v1.3.0`として公開していただけました！

https://github.com/increments/qiita-cli/releases/tag/v1.3.0

> 試しに本記事も`ignorePublish: true`にして，Githubにプッシュしてみました。笑
> きちんと投稿されていなかったです！
